<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.16.4 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>            Weird Function Learned by A Simple Rule - 孙轶同的博客      Yitong’s Blog      </title>
<meta name="description" content="(Proof of Problem 6.3 of (Devroye, Györfi, &amp; Lugosi, 1997)">



<meta property="og:type" content="article">
<meta property="og:locale" content="en">
<meta property="og:site_name" content="孙轶同的博客|Yitong's Blog">
<meta property="og:title" content="Weird Function Learned by A Simple Rule">
<meta property="og:url" content="https://syitong.github.io/notes/weird-function-simple-rule/">


  <meta property="og:description" content="(Proof of Problem 6.3 of (Devroye, Györfi, &amp; Lugosi, 1997)">







  <meta property="article:published_time" content="2017-07-20T00:00:00-04:00">





  

  


<link rel="canonical" href="https://syitong.github.io/notes/weird-function-simple-rule/">







  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "name": "Yitong Sun",
      "url": "https://syitong.github.io",
      "sameAs": null
    }
  </script>







<!-- end _includes/seo.html -->


<link href="https://syitong.github.io/feed.xml" type="application/atom+xml" rel="alternate" title="孙轶同的博客|Yitong's Blog Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- Mathjax support -->

<script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
</script>


<!-- For all browsers -->
<link rel="stylesheet" href="https://syitong.github.io/assets/css/main.css">

<!--[if lte IE 9]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->

<meta http-equiv="cleartype" content="on">

<!-- Baidu Autopush -->
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>

<!-- Baidu header-->


    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single wide">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">孙轶同的博客|Yitong's Blog</a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/categories/" >Categories</a>
            </li><li class="masthead__menu-item">
              <a href="/tags/" >Tags</a>
            </li><li class="masthead__menu-item">
              <a href="/years/" >Years</a>
            </li></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle Menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      

      
        <img src="/assets/images/icon128.png" alt="Yitong Sun" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">Yitong Sun</h3>
    
    
      <p class="author__bio" itemprop="description">
        长风破浪会有时
      </p>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Weird Function Learned by A Simple Rule">
    <meta itemprop="description" content="(Proof of Problem 6.3 of (Devroye, Györfi, &amp; Lugosi, 1997)">
    <meta itemprop="datePublished" content="July 20, 2017">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Weird Function Learned by A Simple Rule
</h1>
          
            <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  2 minute read
</p>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
        <p>(Proof of Problem 6.3 of <a class="citation" href="#Devroye1997">(Devroye, Györfi, &amp; Lugosi, 1997)</a></p>

<p>On Page 92 of <a class="citation" href="#Devroye1997">(Devroye, Györfi, &amp; Lugosi, 1997)</a>, the authors give an example of hard to learn function as follows.</p>

<blockquote>
  <p>On the interval <script type="math/tex">[0,1]</script>, let the distribution spit out rational numbers and irrational numbers with equal probability. List all the rational numbers as a sequence <script type="math/tex">\{r_n\}</script>. The probability over irrational numbers is uniform, and the probability over rational numbers is given by the sequence <script type="math/tex">\{1/2^{n+1}\}</script>. And the labels of rational numbers are 1, and irrational numbers -1.</p>
</blockquote>

<p>Since the labels are deterministic, the Bayes classifier can achieve 0 risk. In practice, we can never justify the rationality of a number. Nonetheless, we assume that we can get arbitrarily accurate digits of the number. It is surprising that we can find a consistent rule to learn this function. And the rule is very simple, it just assigns the same label of the closest sample to the test point!</p>

<p>To show the consistency of the <strong>closest neighbor rule</strong>, we only need to show that for sufficiently many samples, the probability of making mistakes can be arbitrarily small. The key of the proof is to note that under the setup given above, the rational numbers are very likely to repeat in the sample set. So when the test point is a rational number, it repeats some sample point with high probability; when it is an irrational number, it is more likely between two irrational sample points.</p>

<p>Assume we have <script type="math/tex">m</script> samples <script type="math/tex">\{(X_i,Y_i)\}</script> and a test point <script type="math/tex">X</script> with corresponding label <script type="math/tex">Y</script>. In the first part, we assume <script type="math/tex">X</script> is a rational number. Then</p>

<script type="math/tex; mode=display">\begin{equation}
\mathbb{P}\left(\forall i\,,X\ne X_i\mid Y=1\right)=\sum_{n=1}^\infty\mathbb{P}\left(\forall i\,,X_i\ne r_n\wedge X=r_n\mid Y=1\right)=\sum_{n=1}^\infty\left(1-\frac{1}{2^n}\right)^m\frac{1}{2^n}\,.
\end{equation}</script>

<p>It is not hard to see that this probability can be arbitrarily small when <script type="math/tex">m</script> is sufficiently large. It means that when <script type="math/tex">X</script> is rational, its closest neighbor will be itself in the sample set with high probability.</p>

<p>For the second part, we assume that <script type="math/tex">X</script> is irrational. Denote the number of distinct rationals in the sample set by <script type="math/tex">K</script>. We want to show that with a high probability, <script type="math/tex">K</script> in the sample set will be less than <script type="math/tex">2\log_2 m</script>.</p>

<script type="math/tex; mode=display">\begin{equation}
\mathbb{P}\left(K\ge2\log_2 m\right)\le\mathbb{P}\left(\exists i\,s.t.\,X_i=r_n\wedge n\ge2\log_2 m\right)=1-\left(1-\frac{1}{2^{2\log_2 m}}\right)^m\,.
\end{equation}</script>

<p>On the other hand, denote the number of irrationals in the sample set by <script type="math/tex">L</script>. Then</p>

<script type="math/tex; mode=display">% <![CDATA[
\begin{equation}
\mathbb{P}\left(L<\frac{m}{4}\right)\le\exp\left(-\frac{m}{8}\right)\,,
\end{equation} %]]></script>

<p>by Hoeffding’s inequality.</p>

<p>Therefore, by union bound we have</p>

<script type="math/tex; mode=display">% <![CDATA[
\begin{equation}
\mathbb{P}\left(K<2\log_2m\wedge L\ge\frac{m}{4}\right)\ge1-\mathbb{P}(K\ge2\log_2m)-\mathbb{P}(L<\frac{m}{4})\,,
\end{equation} %]]></script>

<p>which is further greater than</p>

<script type="math/tex; mode=display">\begin{equation}
\left(1-\frac{1}{2^{2\log_2 m}}\right)^m-\exp\left(-\frac{m}{8}\right)\to 1\quad\text{as m}\to\infty\,.
\end{equation}</script>

<p>So, when <script type="math/tex">m</script> is sufficiently large, with high probability, <script type="math/tex">L\gg K</script>. Now among <script type="math/tex">L+1</script> irrationals,  the position of <script type="math/tex">X</script> is uniform, then the chance that <script type="math/tex">X</script> is next to a rational sample is less than <script type="math/tex">\frac{2K}{L+1}</script>, which can be arbitrarily small as <script type="math/tex">m</script> is large. If its left and right neighbors are both irrational samples, it will be labeled correctly.</p>

<p>Combining the results of both parts, we get the conclusion that, as <script type="math/tex">m\to\infty</script>, the probability of labeling the test point correctly approaches to 1. Clearly, this is only a consistency result instead of a learning rate. In general, there exists learning method that is consistent for any problem, but there does not exist learning method with the universal learning rate.</p>

<h2 id="reference">Reference</h2>
<ol class="bibliography"><li><span id="Devroye1997">Devroye, L., Györfi, L., &amp; Lugosi, G. (1997). <i>A Probabilistic Theory of Pattern Recognition</i>. Springer New York.</span></li></ol>

        
      </section>

      <footer class="page__meta">
        
        
  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/tags/statistical-learning" class="page__taxonomy-item" rel="tag">statistical learning</a>
    
    </span>
  </p>




  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/categories/notes" class="page__taxonomy-item" rel="tag">notes</a>
    
    </span>
  </p>


        
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2017-07-20T00:00:00-04:00">July 20, 2017</time></p>
        
      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="https://twitter.com/intent/tweet?text=Weird+Function+Learned+by+A+Simple+Rule%20https%3A%2F%2Fsyitong.github.io%2Fnotes%2Fweird-function-simple-rule%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fsyitong.github.io%2Fnotes%2Fweird-function-simple-rule%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fsyitong.github.io%2Fnotes%2Fweird-function-simple-rule%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/notes/on-no-free-lunch/" class="pagination--pager" title="On No Free Lunch Theorem
">Previous</a>
    
    
      <a href="/notes/on-hoeffding-inequality/" class="pagination--pager" title="On Hoeffding’s Inequality
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You May Also Enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/notes/sort-select/" rel="permalink">快速排序与快速选择算法
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  less than 1 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">之所以突然会对这个问题感兴趣是因为，大概一年前，在毫无准备的情况下去参加某互联网公司的面试，被问到了这样一个问题：“给定一个长度为n的数列，如何快速的找出其中第m大的元素。假设m远小于n。”因为对排序和选择算法完全不熟悉，只知道quicksort的时间复杂度应该是，以及从数列中找出最大值的复杂度是 。只好回答最简...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/articles/rff-intro/" rel="permalink">What Is Random Fourier Features Method?
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  2 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">Random Fourier features method, or more general random features method is a method to help transform data which are not linearly separable to linearly separa...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/articles/tmux-rename/" rel="permalink">如何阻止ssh重命名tmux窗口
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  less than 1 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">在使用tmux多窗口终端时，每次登录学校的服务器后，窗口的标签就会被改成与服务器的prompt相同。而且登出后也不会改回来，导致tmux经常几个窗口的名字都很长，也没有反映窗口当时的状况。之所以会这样，是因为tmux默认允许一些进程修改窗口名，而ssh对终端窗口的命名规则是由服务器上的配置文件决定的。

</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/articles/cb-setup/" rel="permalink">HiDPI Chromebook上Crouton的设置
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  less than 1 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">入手HP Chromebook 13 g1大半年，一开始就安装了Gallium OS。但Gallium OS迟迟无法解决intel skylake model上的音频输出问题，加上Gallium OS的电源管理比Chrome OS要弱不少，不接电源的情况下无法长时间的使用。忍了大半年后，终于回到了Crouton的...</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    

    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2019 Yitong Sun. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>
  <script defer src="https://use.fontawesome.com/releases/v5.8.2/js/all.js" integrity="sha384-DJ25uNYET2XCl5ZF++U8eNxPWqcKohUUBUpKGlNLMchM7q4Wjg2CUpjHLaL8yYPH" crossorigin="anonymous"></script>










  </body>
</html>
